{"cells":[{"cell_type":"code","source":["from google.colab import drive\n","drive.mount('/content/drive')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"NUoUw1WrLesI","executionInfo":{"status":"ok","timestamp":1699463584500,"user_tz":300,"elapsed":33365,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}},"outputId":"73e54f9f-ee77-4706-8188-3b46c227a939"},"id":"NUoUw1WrLesI","execution_count":1,"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/drive\n"]}]},{"cell_type":"code","execution_count":2,"id":"b7069c46-b444-4100-b7d9-c884c759b493","metadata":{"id":"b7069c46-b444-4100-b7d9-c884c759b493","executionInfo":{"status":"ok","timestamp":1699463584812,"user_tz":300,"elapsed":324,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"outputs":[],"source":["import pandas as pd"]},{"cell_type":"code","source":["#Read data dictionary.\n","\n","data_dictionary = pd.read_csv(\"/content/drive/MyDrive/TQP-MOST/Modified Data Dictionary.csv\", index_col = None, encoding = 'latin1', low_memory = False)\n","\n","data_dictionary.columns = map(str.upper, data_dictionary.columns)"],"metadata":{"id":"48zxpN7Rvetn","executionInfo":{"status":"ok","timestamp":1699463586896,"user_tz":300,"elapsed":2091,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"id":"48zxpN7Rvetn","execution_count":3,"outputs":[]},{"cell_type":"code","source":["variables = list(data_dictionary['VARIABLE'])"],"metadata":{"id":"co1XWqSRwkyi","executionInfo":{"status":"ok","timestamp":1699463586896,"user_tz":300,"elapsed":7,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"id":"co1XWqSRwkyi","execution_count":4,"outputs":[]},{"cell_type":"code","source":["#Drop columns to be created later.\n","\n","variables.remove('CRASH')\n","variables.remove('IMPACT')\n","variables.remove('ICP')\n","variables.remove('PROTDEV')\n","variables.remove('RACE')"],"metadata":{"id":"LYOdA0icrZSw","executionInfo":{"status":"ok","timestamp":1699463586897,"user_tz":300,"elapsed":7,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"id":"LYOdA0icrZSw","execution_count":5,"outputs":[]},{"cell_type":"code","execution_count":6,"id":"83ebea8e-eaf9-4e4c-95b0-7b18bcac7215","metadata":{"id":"83ebea8e-eaf9-4e4c-95b0-7b18bcac7215","executionInfo":{"status":"ok","timestamp":1699463590199,"user_tz":300,"elapsed":3308,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"outputs":[],"source":["#Read 2021 data.\n","\n","df2021 = pd.read_csv(\"/content/drive/MyDrive/TQP-MOST/2021_crash.csv\", index_col = 0, encoding = 'latin1', low_memory = False)\n","\n","df2021.columns = map(str.upper, df2021.columns)"]},{"cell_type":"code","source":["#Remove unwanted columns from 2021 data.\n","\n","df2021 = df2021[variables]"],"metadata":{"id":"bEPWQXY4xSqE","executionInfo":{"status":"ok","timestamp":1699463590199,"user_tz":300,"elapsed":8,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"id":"bEPWQXY4xSqE","execution_count":7,"outputs":[]},{"cell_type":"code","execution_count":8,"id":"336cffa1-eca7-41ba-9fda-844b73a7068f","metadata":{"id":"336cffa1-eca7-41ba-9fda-844b73a7068f","outputId":"1f4558e9-96f7-4351-cd24-2e4510b141f2","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1699463590199,"user_tz":300,"elapsed":6,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(36102, 134)"]},"metadata":{},"execution_count":8}],"source":["#Check 2021 data shape.\n","\n","df2021.shape"]},{"cell_type":"code","execution_count":9,"id":"a9542653-5403-410b-bf62-664e14f6462b","metadata":{"id":"a9542653-5403-410b-bf62-664e14f6462b","executionInfo":{"status":"ok","timestamp":1699463593604,"user_tz":300,"elapsed":3409,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"outputs":[],"source":["#Read 2020 data.\n","\n","df2020 = pd.read_csv(\"/content/drive/MyDrive/TQP-MOST/2020_crash.csv\", index_col = 0, encoding = 'latin1', low_memory = False)\n","\n","df2020.columns = map(str.upper, df2020.columns)"]},{"cell_type":"code","source":["#Remove unwanted columns from 2020 data.\n","\n","df2020 = df2020[variables]"],"metadata":{"id":"DNIL04pjy8n1","executionInfo":{"status":"ok","timestamp":1699463593605,"user_tz":300,"elapsed":119,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"id":"DNIL04pjy8n1","execution_count":10,"outputs":[]},{"cell_type":"code","execution_count":11,"id":"779f98b3-ebfc-45bc-97b6-084feee4fb16","metadata":{"id":"779f98b3-ebfc-45bc-97b6-084feee4fb16","outputId":"83a92d10-596f-4fcd-990c-4d3734dee99a","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1699463593605,"user_tz":300,"elapsed":115,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(33981, 134)"]},"metadata":{},"execution_count":11}],"source":["#Check 2020 data shape.\n","\n","df2020.shape"]},{"cell_type":"code","source":["#Read 2019 data.\n","\n","df2019 = pd.read_csv(\"/content/drive/MyDrive/TQP-MOST/2019_crash.csv\", index_col = 0, encoding = 'latin1', low_memory = False)\n","\n","df2019.columns = map(str.upper, df2019.columns)"],"metadata":{"id":"2N_ccWv9zGV5","executionInfo":{"status":"ok","timestamp":1699463596339,"user_tz":300,"elapsed":2743,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"id":"2N_ccWv9zGV5","execution_count":12,"outputs":[]},{"cell_type":"code","source":["#Change column name 'ISS_05' to 'ISS'.\n","\n","df2019['ISS'] = df2019['ISS_05']"],"metadata":{"id":"_ryuuCnTUBkm","executionInfo":{"status":"ok","timestamp":1699463596339,"user_tz":300,"elapsed":13,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"id":"_ryuuCnTUBkm","execution_count":13,"outputs":[]},{"cell_type":"code","source":["#Remove unwanted columns from 2019 data.\n","\n","df2019 = df2019[variables]"],"metadata":{"id":"B1iT4OY3zHoh","executionInfo":{"status":"ok","timestamp":1699463596339,"user_tz":300,"elapsed":8,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"id":"B1iT4OY3zHoh","execution_count":14,"outputs":[]},{"cell_type":"code","source":["#Check 2019 data shape.\n","\n","df2019.shape"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"fNsLqXMlzIGE","executionInfo":{"status":"ok","timestamp":1699463596339,"user_tz":300,"elapsed":6,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}},"outputId":"218bbaeb-3638-453e-e121-a8fa57b53f88"},"id":"fNsLqXMlzIGE","execution_count":15,"outputs":[{"output_type":"execute_result","data":{"text/plain":["(32579, 134)"]},"metadata":{},"execution_count":15}]},{"cell_type":"code","execution_count":16,"id":"1b7d99af-1e65-4876-af89-7255c85e4160","metadata":{"id":"1b7d99af-1e65-4876-af89-7255c85e4160","executionInfo":{"status":"ok","timestamp":1699463596848,"user_tz":300,"elapsed":514,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"outputs":[],"source":["#Combine data.\n","\n","dfs = [df2019, df2020, df2021]\n","\n","combined = pd.concat(dfs)"]},{"cell_type":"code","execution_count":17,"id":"8618f193-6d71-4a63-8e03-c55a5a87c117","metadata":{"id":"8618f193-6d71-4a63-8e03-c55a5a87c117","outputId":"f8bd49c5-2f31-4278-d47f-83fa57138c5b","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1699463596848,"user_tz":300,"elapsed":185,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(102662, 134)"]},"metadata":{},"execution_count":17}],"source":["#Check data shape.\n","\n","combined.shape"]},{"cell_type":"code","execution_count":18,"id":"d1fead1c-70b3-4814-9546-c1e6bfe8fa13","metadata":{"id":"d1fead1c-70b3-4814-9546-c1e6bfe8fa13","outputId":"3f418029-23b6-46d9-ac66-0793f1e57972","colab":{"base_uri":"https://localhost:8080/","height":253},"executionInfo":{"status":"ok","timestamp":1699463596849,"user_tz":300,"elapsed":185,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["              AGEYEARS  SEX  WHITE  ASIAN  BLACK  AMERICANINDIAN  \\\n","190026915239      66.0  2.0    1.0    0.0    0.0             0.0   \n","190026915240      18.0  1.0    1.0    0.0    0.0             0.0   \n","190026915260      72.0  1.0    1.0    0.0    0.0             0.0   \n","190026915263      41.0  2.0    0.0    0.0    0.0             0.0   \n","190026915265      40.0  1.0    0.0    0.0    0.0             0.0   \n","\n","              PACIFICISLANDER  RACEOTHER  ETHNICITY  WEIGHT  ...  \\\n","190026915239              0.0        0.0        2.0     NaN  ...   \n","190026915240              0.0        0.0        2.0    70.0  ...   \n","190026915260              0.0        0.0        2.0    60.5  ...   \n","190026915263              0.0        1.0        2.0   100.0  ...   \n","190026915265              0.0        1.0        1.0    68.0  ...   \n","\n","              HC_PNEUMONIA  HC_PRESSUREULCER  HC_RESPIRATORY  HC_RETURNOR  \\\n","190026915239            No                No              No           No   \n","190026915240            No               Yes              No           No   \n","190026915260            No                No              No           No   \n","190026915263            No                No              No           No   \n","190026915265            No                No              No           No   \n","\n","              HC_SEPSIS  HC_STROKECVA  HC_SUPERFICIALSSI  HC_UNPLANNEDICU  \\\n","190026915239         No            No                 No               No   \n","190026915240         No            No                 No               No   \n","190026915260         No            No                 No               No   \n","190026915263         No            No                 No               No   \n","190026915265         No            No                 No               No   \n","\n","              HC_UTI  HC_VAPNEUMONIA  \n","190026915239      No              No  \n","190026915240      No              No  \n","190026915260      No              No  \n","190026915263      No              No  \n","190026915265      No              No  \n","\n","[5 rows x 134 columns]"],"text/html":["\n","  <div id=\"df-fd7ccd11-6da5-4ac0-aaa9-75c232b0c012\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>AGEYEARS</th>\n","      <th>SEX</th>\n","      <th>WHITE</th>\n","      <th>ASIAN</th>\n","      <th>BLACK</th>\n","      <th>AMERICANINDIAN</th>\n","      <th>PACIFICISLANDER</th>\n","      <th>RACEOTHER</th>\n","      <th>ETHNICITY</th>\n","      <th>WEIGHT</th>\n","      <th>...</th>\n","      <th>HC_PNEUMONIA</th>\n","      <th>HC_PRESSUREULCER</th>\n","      <th>HC_RESPIRATORY</th>\n","      <th>HC_RETURNOR</th>\n","      <th>HC_SEPSIS</th>\n","      <th>HC_STROKECVA</th>\n","      <th>HC_SUPERFICIALSSI</th>\n","      <th>HC_UNPLANNEDICU</th>\n","      <th>HC_UTI</th>\n","      <th>HC_VAPNEUMONIA</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>190026915239</th>\n","      <td>66.0</td>\n","      <td>2.0</td>\n","      <td>1.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>2.0</td>\n","      <td>NaN</td>\n","      <td>...</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","    </tr>\n","    <tr>\n","      <th>190026915240</th>\n","      <td>18.0</td>\n","      <td>1.0</td>\n","      <td>1.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>2.0</td>\n","      <td>70.0</td>\n","      <td>...</td>\n","      <td>No</td>\n","      <td>Yes</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","    </tr>\n","    <tr>\n","      <th>190026915260</th>\n","      <td>72.0</td>\n","      <td>1.0</td>\n","      <td>1.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>2.0</td>\n","      <td>60.5</td>\n","      <td>...</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","    </tr>\n","    <tr>\n","      <th>190026915263</th>\n","      <td>41.0</td>\n","      <td>2.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>1.0</td>\n","      <td>2.0</td>\n","      <td>100.0</td>\n","      <td>...</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","    </tr>\n","    <tr>\n","      <th>190026915265</th>\n","      <td>40.0</td>\n","      <td>1.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>1.0</td>\n","      <td>1.0</td>\n","      <td>68.0</td>\n","      <td>...</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>5 rows × 134 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-fd7ccd11-6da5-4ac0-aaa9-75c232b0c012')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-fd7ccd11-6da5-4ac0-aaa9-75c232b0c012 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-fd7ccd11-6da5-4ac0-aaa9-75c232b0c012');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-dbf790fa-67a6-4366-ab49-b2af5393a1d7\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-dbf790fa-67a6-4366-ab49-b2af5393a1d7')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-dbf790fa-67a6-4366-ab49-b2af5393a1d7 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":18}],"source":["#See combined dataframe head.\n","\n","combined.head()"]},{"cell_type":"code","execution_count":19,"id":"9088cd6b-d531-4450-9913-37be2ac78587","metadata":{"id":"9088cd6b-d531-4450-9913-37be2ac78587","outputId":"faab7378-2850-42d4-e1a1-7c892911dc2d","colab":{"base_uri":"https://localhost:8080/","height":253},"executionInfo":{"status":"ok","timestamp":1699463596849,"user_tz":300,"elapsed":183,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"outputs":[{"output_type":"execute_result","data":{"text/plain":["              AGEYEARS  SEX  WHITE  ASIAN  BLACK  AMERICANINDIAN  \\\n","210064855091      60.0  1.0    1.0    0.0    0.0             0.0   \n","210064855178      27.0  1.0    1.0    0.0    0.0             0.0   \n","210064855285      41.0  1.0    1.0    0.0    0.0             0.0   \n","210064863956      57.0  1.0    1.0    0.0    0.0             0.0   \n","210064921701      54.0  1.0    1.0    0.0    0.0             0.0   \n","\n","              PACIFICISLANDER  RACEOTHER  ETHNICITY  WEIGHT  ...  \\\n","210064855091              0.0        0.0        2.0  114.00  ...   \n","210064855178              0.0        0.0        2.0   92.00  ...   \n","210064855285              0.0        0.0        2.0     NaN  ...   \n","210064863956              0.0        0.0        2.0   75.60  ...   \n","210064921701              0.0        0.0        1.0   77.11  ...   \n","\n","              HC_PNEUMONIA  HC_PRESSUREULCER  HC_RESPIRATORY  HC_RETURNOR  \\\n","210064855091            No                No              No           No   \n","210064855178            No                No              No           No   \n","210064855285            No                No              No           No   \n","210064863956            No                No              No           No   \n","210064921701            No               Yes              No           No   \n","\n","              HC_SEPSIS  HC_STROKECVA  HC_SUPERFICIALSSI  HC_UNPLANNEDICU  \\\n","210064855091         No            No                 No               No   \n","210064855178         No            No                 No               No   \n","210064855285         No            No                 No               No   \n","210064863956         No            No                 No               No   \n","210064921701         No            No                 No               No   \n","\n","              HC_UTI  HC_VAPNEUMONIA  \n","210064855091      No              No  \n","210064855178      No              No  \n","210064855285      No              No  \n","210064863956      No              No  \n","210064921701      No              No  \n","\n","[5 rows x 134 columns]"],"text/html":["\n","  <div id=\"df-8840986a-fb83-4f68-8aff-eaa33d7f6833\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>AGEYEARS</th>\n","      <th>SEX</th>\n","      <th>WHITE</th>\n","      <th>ASIAN</th>\n","      <th>BLACK</th>\n","      <th>AMERICANINDIAN</th>\n","      <th>PACIFICISLANDER</th>\n","      <th>RACEOTHER</th>\n","      <th>ETHNICITY</th>\n","      <th>WEIGHT</th>\n","      <th>...</th>\n","      <th>HC_PNEUMONIA</th>\n","      <th>HC_PRESSUREULCER</th>\n","      <th>HC_RESPIRATORY</th>\n","      <th>HC_RETURNOR</th>\n","      <th>HC_SEPSIS</th>\n","      <th>HC_STROKECVA</th>\n","      <th>HC_SUPERFICIALSSI</th>\n","      <th>HC_UNPLANNEDICU</th>\n","      <th>HC_UTI</th>\n","      <th>HC_VAPNEUMONIA</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>210064855091</th>\n","      <td>60.0</td>\n","      <td>1.0</td>\n","      <td>1.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>2.0</td>\n","      <td>114.00</td>\n","      <td>...</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","    </tr>\n","    <tr>\n","      <th>210064855178</th>\n","      <td>27.0</td>\n","      <td>1.0</td>\n","      <td>1.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>2.0</td>\n","      <td>92.00</td>\n","      <td>...</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","    </tr>\n","    <tr>\n","      <th>210064855285</th>\n","      <td>41.0</td>\n","      <td>1.0</td>\n","      <td>1.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>2.0</td>\n","      <td>NaN</td>\n","      <td>...</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","    </tr>\n","    <tr>\n","      <th>210064863956</th>\n","      <td>57.0</td>\n","      <td>1.0</td>\n","      <td>1.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>2.0</td>\n","      <td>75.60</td>\n","      <td>...</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","    </tr>\n","    <tr>\n","      <th>210064921701</th>\n","      <td>54.0</td>\n","      <td>1.0</td>\n","      <td>1.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>1.0</td>\n","      <td>77.11</td>\n","      <td>...</td>\n","      <td>No</td>\n","      <td>Yes</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","      <td>No</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>5 rows × 134 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-8840986a-fb83-4f68-8aff-eaa33d7f6833')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-8840986a-fb83-4f68-8aff-eaa33d7f6833 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-8840986a-fb83-4f68-8aff-eaa33d7f6833');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-76141990-e228-49e3-bb3b-866aeaa49184\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-76141990-e228-49e3-bb3b-866aeaa49184')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-76141990-e228-49e3-bb3b-866aeaa49184 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":19}],"source":["#See combined dataframe tail.\n","\n","combined.tail()"]},{"cell_type":"code","execution_count":20,"id":"cd269ba3-7d20-402e-96f1-c4394e1fef3b","metadata":{"id":"cd269ba3-7d20-402e-96f1-c4394e1fef3b","executionInfo":{"status":"ok","timestamp":1699463604638,"user_tz":300,"elapsed":7972,"user":{"displayName":"Mert Karabacak","userId":"14308977132914475412"}}},"outputs":[],"source":["#Save combined data.\n","\n","combined.to_csv('/content/drive/MyDrive/TQP-MOST/combined_data_crash.csv')"]}],"metadata":{"environment":{"kernel":"python3","name":"common-cpu.m100","type":"gcloud","uri":"gcr.io/deeplearning-platform-release/base-cpu:m100"},"kernelspec":{"display_name":"Python 3","language":"python","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.7.12"},"colab":{"provenance":[{"file_id":"1wld5qUoENQiogi2HyF5uFOriTTKe5dv8","timestamp":1675878633105},{"file_id":"1eaGcSN1B9YfVOxKQfSQwhgM2NH0dT7ON","timestamp":1675877362482},{"file_id":"15Y4C6Ops1valgwIM7LvbNqeDLyfPUJdF","timestamp":1674143963884},{"file_id":"14WTMRdOsP1e6EP3YK7nUvyBYZniY7kVa","timestamp":1673550593332},{"file_id":"17aj-Lz8TX0s0hiZMy83U6YI3DzFLD0ZW","timestamp":1671639955853},{"file_id":"1DvHyPwQy7mpRwrN_rOzO-09A7CAMA0Uj","timestamp":1671032654360},{"file_id":"1oaw3j90w4kJTo-_wUmEj4_VwvTsD9O3r","timestamp":1670594756777},{"file_id":"13trwfUGkE1kSKt7ow-iCHeetffobv2nJ","timestamp":1669681277061},{"file_id":"https://github.com/mertkarabacak/NSQIP-ACDF/blob/main/concatenate.ipynb","timestamp":1669235177814}],"machine_shape":"hm"},"gpuClass":"standard"},"nbformat":4,"nbformat_minor":5}